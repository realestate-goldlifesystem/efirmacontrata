<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Validaci√≥n - E-FirmaContrata</title>
    <style>
        /* Variables de dise√±o */
        :root {
            --primary: #FFD700;
            --secondary: #1e1e1e;
            --dark: #0F0F0F;
            --light: #f8f9fa;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --info: #3b82f6;
            --white: #ffffff;
            --gray: #6b7280;
            --shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 20px 40px rgba(0, 0, 0, 0.15);
            --radius: 12px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, Arial, sans-serif;
            background: linear-gradient(135deg, #0F0F0F 0%, #1e1e1e 100%);
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
        }

        /* Container */
        .container {
            max-width: 100%;
            padding: 2rem;
            margin: 0 auto;
        }

        /* Header Principal */
        .main-header {
            background: linear-gradient(135deg, var(--primary) 0%, #FFA500 100%);
            padding: 2rem;
            border-radius: var(--radius);
            margin-bottom: 2rem;
            box-shadow: var(--shadow-lg);
            color: var(--dark);
        }

        .main-header h1 {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .main-header p {
            color: rgba(0, 0, 0, 0.7);
            font-size: 1.1rem;
        }

        /* Tabs Navigation */
        .tabs-nav {
            display: flex;
            gap: 1rem;
            background: var(--white);
            padding: 0.5rem;
            border-radius: var(--radius);
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
        }

        .tab-btn {
            flex: 1;
            padding: 1rem 1.5rem;
            background: transparent;
            border: none;
            border-radius: calc(var(--radius) / 2);
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            color: var(--gray);
            transition: all 0.3s ease;
            position: relative;
        }

        .tab-btn:hover {
            background: var(--light);
        }

        .tab-btn.active {
            background: var(--primary);
            color: var(--dark);
            font-weight: 600;
            box-shadow: 0 4px 12px rgba(255, 215, 0, 0.3);
        }

        /* Tab Content */
        .tab-content {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Stats Container */
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: var(--white);
            padding: 1.5rem;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            gap: 1rem;
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .stat-icon {
            font-size: 2.5rem;
            opacity: 0.8;
        }

        .stat-info {
            flex: 1;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary);
        }

        .stat-label {
            color: var(--gray);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        /* Registros Grid */
        .registros-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .registro-card {
            background: var(--white);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .registro-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .registro-header {
            padding: 1.5rem;
            background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .registro-header h3 {
            color: var(--dark);
            font-size: 1.25rem;
            margin: 0;
        }

        .registro-info {
            padding: 1.5rem;
        }

        .info-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
            border-bottom: 1px solid #f3f4f6;
        }

        .info-row:last-child {
            border-bottom: none;
        }

        .info-label {
            font-weight: 600;
            color: var(--gray);
        }

        .info-value {
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Bot√≥n de copiar */
        .btn-copy {
            background: var(--light);
            border: none;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.875rem;
            transition: all 0.2s;
        }

        .btn-copy:hover {
            background: var(--primary);
            color: var(--dark);
        }

        .btn-copy.copied {
            background: var(--success);
            color: white;
        }

        /* Registro Actions */
        .registro-actions {
            padding: 1rem 1.5rem;
            background: var(--light);
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        /* Buttons */
        .btn {
            padding: 0.625rem 1.25rem;
            border: none;
            border-radius: calc(var(--radius) / 2);
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: var(--primary);
            color: var(--dark);
        }

        .btn-primary:hover {
            background: #FFA500;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: var(--secondary);
            color: var(--white);
        }

        .btn-secondary:hover {
            background: #2d2d2d;
            transform: translateY(-2px);
        }

        .btn-success {
            background: var(--success);
            color: var(--white);
        }

        .btn-success:hover {
            background: #059669;
            transform: translateY(-2px);
        }

        .btn-warning {
            background: var(--warning);
            color: var(--white);
        }

        .btn-warning:hover {
            background: #d97706;
            transform: translateY(-2px);
        }

        .btn-danger {
            background: var(--danger);
            color: var(--white);
        }

        .btn-danger:hover {
            background: #dc2626;
            transform: translateY(-2px);
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.show {
            display: flex;
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            background: var(--white);
            border-radius: var(--radius);
            max-width: 90%;
            max-height: 90vh;
            overflow: hidden;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
        }

        .modal-lg {
            width: 1200px;
        }

        .modal-header {
            background: linear-gradient(135deg, var(--primary) 0%, #FFA500 100%);
            padding: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h2 {
            color: var(--dark);
            margin: 0;
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 2rem;
            cursor: pointer;
            color: var(--dark);
            opacity: 0.7;
            transition: opacity 0.2s;
        }

        .close-modal:hover {
            opacity: 1;
        }

        .modal-body {
            padding: 2rem;
            max-height: calc(90vh - 80px);
            overflow-y: auto;
        }

        /* Document Preview Container */
        .documents-container {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 2rem;
            height: 600px;
        }

        .documents-list {
            background: var(--light);
            border-radius: var(--radius);
            padding: 1rem;
            overflow-y: auto;
        }

        .doc-item {
            background: var(--white);
            padding: 1rem;
            margin-bottom: 0.75rem;
            border-radius: calc(var(--radius) / 2);
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .doc-item:hover {
            background: var(--primary);
            color: var(--dark);
            transform: translateX(5px);
        }

        .doc-item.active {
            background: var(--primary);
            color: var(--dark);
            font-weight: 600;
        }

        .doc-type {
            font-size: 0.875rem;
            opacity: 0.8;
        }

        .doc-size {
            font-size: 0.75rem;
            opacity: 0.6;
        }

        /* Preview Area */
        .preview-area {
            background: #f8f9fa;
            border-radius: var(--radius);
            padding: 1rem;
            display: flex;
            flex-direction: column;
        }

        .preview-header {
            padding: 1rem;
            background: var(--white);
            border-radius: calc(var(--radius) / 2);
            margin-bottom: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .preview-content {
            flex: 1;
            background: var(--white);
            border-radius: calc(var(--radius) / 2);
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .preview-iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        .preview-image {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }

        .preview-placeholder {
            text-align: center;
            color: var(--gray);
            padding: 3rem;
        }

        /* Validation Checklist */
        .validation-checklist {
            background: var(--light);
            border-radius: var(--radius);
            padding: 1.5rem;
            margin-top: 1.5rem;
        }

        .checklist-title {
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .checklist-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }

        .checklist-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem;
            background: var(--white);
            border-radius: calc(var(--radius) / 2);
            transition: all 0.2s;
        }

        .checklist-item:hover {
            transform: translateX(5px);
        }

        .checklist-checkbox {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .checklist-label {
            flex: 1;
            cursor: pointer;
            user-select: none;
        }

        .checklist-item.checked {
            background: #d1fae5;
            color: #065f46;
        }

        /* Corrections Form */
        .corrections-form {
            background: #fef3c7;
            border-radius: var(--radius);
            padding: 1.5rem;
            margin-top: 1.5rem;
        }

        .corrections-title {
            font-weight: 600;
            color: #92400e;
            margin-bottom: 1rem;
        }

        .correction-field {
            margin-bottom: 1rem;
        }

        .correction-field label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: #92400e;
        }

        .correction-field select,
        .correction-field textarea {
            width: 100%;
            padding: 0.625rem;
            border: 1px solid #fbbf24;
            border-radius: calc(var(--radius) / 2);
            background: var(--white);
        }

        .correction-field select:focus,
        .correction-field textarea:focus {
            outline: none;
            border-color: var(--warning);
            box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.1);
        }

        .corrections-list {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .correction-tag {
            background: var(--warning);
            color: var(--white);
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.875rem;
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
        }

        .correction-tag button {
            background: none;
            border: none;
            color: var(--white);
            cursor: pointer;
            font-size: 1rem;
            line-height: 1;
        }

        /* Data Display with Copy */
        .data-display {
            background: var(--light);
            border-radius: var(--radius);
            padding: 1.5rem;
            margin-top: 1.5rem;
        }

        .data-grid {
            display: grid;
            gap: 1rem;
        }

        .data-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem;
            background: var(--white);
            border-radius: calc(var(--radius) / 2);
        }

        .data-label {
            font-weight: 600;
            color: var(--gray);
        }

        .data-value-group {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .data-value {
            color: var(--dark);
            font-family: 'Courier New', monospace;
        }

        /* Badge States */
        .badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.025em;
        }

        .badge-warning {
            background: var(--warning);
            color: var(--white);
        }

        .badge-success {
            background: var(--success);
            color: var(--white);
        }

        .badge-danger {
            background: var(--danger);
            color: var(--white);
        }

        .badge-info {
            background: var(--info);
            color: var(--white);
        }

        /* Toast Notifications */
        .toast {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: var(--dark);
            color: var(--white);
            padding: 1rem 1.5rem;
            border-radius: var(--radius);
            box-shadow: var(--shadow-lg);
            display: none;
            align-items: center;
            gap: 0.75rem;
            z-index: 2000;
            animation: slideUp 0.3s ease;
        }

        .toast.show {
            display: flex;
        }

        .toast.success {
            background: var(--success);
        }

        .toast.warning {
            background: var(--warning);
        }

        .toast.error {
            background: var(--danger);
        }

        @keyframes slideUp {
            from {
                transform: translateY(100%);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        /* Loading Spinner */
        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid var(--light);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
            margin: 2rem auto;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 3rem;
            color: var(--gray);
        }

        .empty-icon {
            font-size: 4rem;
            opacity: 0.3;
            margin-bottom: 1rem;
        }

        .empty-state h3 {
            color: var(--dark);
            margin-bottom: 0.5rem;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            .registros-grid {
                grid-template-columns: 1fr;
            }

            .stats-container {
                grid-template-columns: 1fr;
            }

            .modal-content {
                max-width: 95%;
            }

            .documents-container {
                grid-template-columns: 1fr;
                height: auto;
            }

            .checklist-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <!-- Header Principal -->
        <div class="main-header">
            <h1>üîç Panel de Validaci√≥n - E-FirmaContrata</h1>
            <p>Sistema de validaci√≥n de documentos y generaci√≥n de contratos</p>
        </div>

        <!-- Tabs Navigation -->
        <div class="tabs-nav">
            <button class="tab-btn active" onclick="cambiarTab('inquilinos', this)">
                üìã Inquilinos
            </button>
            <button class="tab-btn" onclick="cambiarTab('propietarios', this)">
                üè† Propietarios
            </button>
            <button class="tab-btn" onclick="cambiarTab('contratos', this)">
                üìÑ Contratos
            </button>
            <button class="tab-btn" onclick="cambiarTab('configuracion', this)">
                ‚öôÔ∏è Configuraci√≥n
            </button>
        </div>

        <!-- Tab Inquilinos -->
        <div id="tabInquilinos" class="tab-content active">
            <div class="stats-container">
                <div class="stat-card">
                    <div class="stat-icon">üìä</div>
                    <div class="stat-info">
                        <div class="stat-value" id="totalInquilinos">0</div>
                        <div class="stat-label">Total Pendientes</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚úÖ</div>
                    <div class="stat-info">
                        <div class="stat-value" id="aprobadosInquilinos">0</div>
                        <div class="stat-label">Aprobados</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚ö†Ô∏è</div>
                    <div class="stat-info">
                        <div class="stat-value" id="correccionesInquilinos">0</div>
                        <div class="stat-label">En Correcci√≥n</div>
                    </div>
                </div>
            </div>

            <div id="listaInquilinos" class="registros-grid">
                <!-- Se llena din√°micamente -->
                <div class="empty-state">
                    <div class="empty-icon">üì≠</div>
                    <h3>No hay registros pendientes</h3>
                    <p>Los registros aparecer√°n aqu√≠ cuando los inquilinos completen sus formularios</p>
                </div>
            </div>
        </div>

        <!-- Tab Propietarios -->
        <div id="tabPropietarios" class="tab-content">
            <div class="stats-container">
                <div class="stat-card">
                    <div class="stat-icon">üìä</div>
                    <div class="stat-info">
                        <div class="stat-value" id="totalPropietarios">0</div>
                        <div class="stat-label">Total Pendientes</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚úÖ</div>
                    <div class="stat-info">
                        <div class="stat-value" id="aprobadosPropietarios">0</div>
                        <div class="stat-label">Aprobados</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚ö†Ô∏è</div>
                    <div class="stat-info">
                        <div class="stat-value" id="correccionesPropietarios">0</div>
                        <div class="stat-label">En Correcci√≥n</div>
                    </div>
                </div>
            </div>

            <div id="listaPropietarios" class="registros-grid">
                <!-- Se llena din√°micamente -->
                <div class="empty-state">
                    <div class="empty-icon">üì≠</div>
                    <h3>No hay registros pendientes</h3>
                    <p>Los registros aparecer√°n aqu√≠ cuando los propietarios completen sus formularios</p>
                </div>
            </div>
        </div>

        <!-- Tab Contratos -->
        <div id="tabContratos" class="tab-content">
            <div class="stats-container">
                <div class="stat-card">
                    <div class="stat-icon">üìù</div>
                    <div class="stat-info">
                        <div class="stat-value" id="totalContratos">0</div>
                        <div class="stat-label">Listos para Generar</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üìÑ</div>
                    <div class="stat-info">
                        <div class="stat-value" id="generadosContratos">0</div>
                        <div class="stat-label">Contratos Generados</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚úçÔ∏è</div>
                    <div class="stat-info">
                        <div class="stat-value" id="firmadosContratos">0</div>
                        <div class="stat-label">Firmados</div>
                    </div>
                </div>
            </div>

            <div id="listaContratos" class="registros-grid">
                <!-- Se llena din√°micamente -->
            </div>
        </div>

        <!-- Tab Configuraci√≥n -->
        <div id="tabConfiguracion" class="tab-content">
            <div class="registro-card">
                <div class="registro-header">
                    <h3>‚öôÔ∏è Configuraci√≥n del Sistema</h3>
                </div>
                <div class="registro-info">
                    <div class="info-row">
                        <span class="info-label">Versi√≥n:</span>
                        <span class="info-value">3.0.0</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">API URL:</span>
                        <span class="info-value">Configurado ‚úÖ</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Carpeta Drive:</span>
                        <span class="info-value">Configurado ‚úÖ</span>
                    </div>
                </div>
                <div class="registro-actions">
                    <button class="btn btn-primary" onclick="actualizarTodo()">
                        üîÑ Actualizar Todo
                    </button>
                    <button class="btn btn-secondary" onclick="limpiarCache()">
                        üßπ Limpiar Cach√©
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Validaci√≥n -->
    <div id="modalValidacion" class="modal">
        <div class="modal-content modal-lg">
            <div class="modal-header">
                <h2 id="modalTitle">üìã Validaci√≥n de Documentos</h2>
                <button class="close-modal" onclick="cerrarModal('modalValidacion')">&times;</button>
            </div>
            <div class="modal-body">
                <!-- Informaci√≥n del Registro -->
                <div class="data-display">
                    <h3>üìå Informaci√≥n del Registro</h3>
                    <div class="data-grid" id="infoRegistro">
                        <!-- Se llena din√°micamente -->
                    </div>
                </div>

                <!-- Container de Documentos y Preview -->
                <div class="documents-container">
                    <div class="documents-list">
                        <h3>üìÅ Documentos Cargados</h3>
                        <div id="listaDocumentos">
                            <!-- Se llena din√°micamente -->
                        </div>
                    </div>
                    <div class="preview-area">
                        <div class="preview-header">
                            <span id="previewTitle">Vista Previa</span>
                            <div>
                                <button class="btn btn-primary btn-sm" onclick="descargarDocumento()">
                                    ‚¨áÔ∏è Descargar
                                </button>
                                <button class="btn btn-secondary btn-sm" onclick="abrirEnNuevaVentana()">
                                    üîó Abrir
                                </button>
                            </div>
                        </div>
                        <div class="preview-content" id="previewContent">
                            <div class="preview-placeholder">
                                <p>üëà Selecciona un documento para ver la vista previa</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Checklist de Validaci√≥n -->
                <div class="validation-checklist">
                    <div class="checklist-title">
                        ‚úÖ Lista de Validaci√≥n
                    </div>
                    <div class="checklist-grid" id="checklistGrid">
                        <!-- Se llena din√°micamente seg√∫n el tipo -->
                    </div>
                </div>

                <!-- Formulario de Correcciones -->
                <div class="corrections-form">
                    <div class="corrections-title">
                        ‚ö†Ô∏è Correcciones Requeridas
                    </div>
                    <div class="correction-field">
                        <label>Seleccionar documentos a corregir:</label>
                        <select id="selectCorrecciones" multiple size="4">
                            <option value="docIdentidad">Documento de Identidad</option>
                            <option value="soporteIngresos">Soporte de Ingresos</option>
                            <option value="certTradicion">Certificado Tradici√≥n</option>
                            <option value="sarlaft">Formato SARLAFT</option>
                            <option value="certBancario">Certificaci√≥n Bancaria</option>
                            <option value="servicios">Servicios P√∫blicos</option>
                        </select>
                    </div>
                    <div class="correction-field">
                        <label>Observaciones espec√≠ficas:</label>
                        <textarea id="observacionesCorrecciones" rows="4"
                            placeholder="Describa detalladamente qu√© debe corregirse..."></textarea>
                    </div>
                    <div class="corrections-list" id="correctionsList">
                        <!-- Tags de correcciones seleccionadas -->
                    </div>
                </div>

                <!-- Botones de Acci√≥n -->
                <div class="registro-actions" style="margin-top: 2rem;">
                    <button class="btn btn-success" onclick="aprobarDocumentos()">
                        ‚úÖ Aprobar Todo
                    </button>
                    <button class="btn btn-warning" onclick="solicitarCorrecciones()">
                        üìù Solicitar Correcciones
                    </button>
                    <button class="btn btn-danger" onclick="rechazarDocumentos()">
                        ‚ùå Rechazar
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast">
        <span id="toastMessage">Mensaje</span>
    </div>

    <script>
        // Configuraci√≥n
        const API_URL = google.script.run;
        let registroActual = null;
        let tipoActual = null;
        let documentoActual = null;
        let documentosData = {};

        // Inicializaci√≥n
        document.addEventListener('DOMContentLoaded', function () {
            cargarDatos();
            configurarEventListeners();
        });

        // Cargar datos iniciales
        function cargarDatos() {
            cargarRegistrosInquilinos();
            cargarRegistrosPropietarios();
            cargarContratos();
        }

        // Event Listeners
        function configurarEventListeners() {
            // Listener para selecci√≥n m√∫ltiple de correcciones
            document.getElementById('selectCorrecciones').addEventListener('change', function () {
                actualizarTagsCorrecciones();
            });
        }

        // Cambiar Tab
        function cambiarTab(tab, btn) {
            // Ocultar todos los tabs
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));

            // Mostrar tab seleccionado
            document.getElementById(`tab${tab.charAt(0).toUpperCase() + tab.slice(1)}`).classList.add('active');
            btn.classList.add('active');
        }

        // Cargar Registros de Inquilinos
        function cargarRegistrosInquilinos() {
            google.script.run
                .withSuccessHandler(function (registros) {
                    mostrarRegistrosInquilinos(registros);
                    actualizarEstadisticas('inquilinos', registros);
                })
                .withFailureHandler(function (error) {
                    console.error('Error cargando inquilinos:', error);
                    mostrarToast('Error al cargar registros de inquilinos', 'error');
                })
                .obtenerRegistrosInquilinos();
        }

        // Cargar Registros de Propietarios
        function cargarRegistrosPropietarios() {
            google.script.run
                .withSuccessHandler(function (registros) {
                    mostrarRegistrosPropietarios(registros);
                    actualizarEstadisticas('propietarios', registros);
                })
                .withFailureHandler(function (error) {
                    console.error('Error cargando propietarios:', error);
                    mostrarToast('Error al cargar registros de propietarios', 'error');
                })
                .obtenerRegistrosPropietarios();
        }

        // Cargar Contratos
        function cargarContratos() {
            console.log('Cargando contratos...');
            const lista = document.getElementById('listaContratos');

            // Mostrar loading
            lista.innerHTML = `
                <div class="loading-state">
                    <div class="spinner"></div>
                    <p>Buscando inmuebles aprobados...</p>
                </div>
            `;

            // Llamada al backend
            google.script.run
                .withSuccessHandler(function (contratos) {
                    mostrarListaContratos(contratos);
                    actualizarContadoresContratos(contratos);
                })
                .withFailureHandler(function (error) {
                    lista.innerHTML = `
                        <div class="error-state">
                            <span class="error-icon">‚ùå</span>
                            <p>Error cargando contratos: ${error.message}</p>
                            <button onclick="cargarContratos()" class="btn-retry">Reintentar</button>
                        </div>
                    `;
                })
                .obtenerContratosPendientes(); // Necesitamos crear esta funci√≥n en Backend
        }

        function mostrarListaContratos(contratos) {
            const lista = document.getElementById('listaContratos');

            if (!contratos || contratos.length === 0) {
                lista.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">üìù</div>
                        <h3>No hay contratos pendientes</h3>
                        <p>Los inmuebles con "ESTUDIO APROBADO" aparecer√°n aqu√≠.</p>
                    </div>
                `;
                return;
            }

            let html = '';
            contratos.forEach(c => {
                html += `
                    <div class="registro-card contrato-card">
                        <div class="registro-header">
                            <h3>üè† ${c.cdr}</h3>
                            <span class="badge badge-ready">LISTO PARA GENERAR</span>
                        </div>
                        <div class="registro-info">
                            <div class="info-row">
                                <span class="info-label">Inquilino:</span>
                                <span class="info-value">${c.inquilino}</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Tipo Negocio:</span>
                                <span class="info-value">${c.tipoNegocio}</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Canon:</span>
                                <span class="info-value">${c.canon}</span>
                            </div>
                        </div>
                        <div class="registro-actions">
                            <button class="btn btn-primary" onclick="generarContrato('${c.cdr}')">
                                üìÑ Generar Contrato
                            </button>
                        </div>
                    </div>
                `;
            });
            lista.innerHTML = html;
        }

        function generarContrato(cdr) {
            if (!confirm(`¬øEst√°s seguro de generar el contrato para ${cdr}? Esto crear√° el PDF y notificar√° a las partes.`)) return;

            // Mostrar estado de carga (bloqueo simple)
            const btn = event.target;
            const originalText = btn.innerHTML;
            btn.disabled = true;
            btn.innerHTML = '‚è≥ Generando...';

            google.script.run
                .withSuccessHandler(function (res) {
                    if (res.success) {
                        alert('‚úÖ Contrato generado exitosamente!\nURL PDF: ' + res.urlPdf);
                        cargarContratos(); // Recargar lista
                    } else {
                        alert('‚ùå Error: ' + res.message);
                        btn.disabled = false;
                        btn.innerHTML = originalText;
                    }
                })
                .withFailureHandler(function (err) {
                    alert('‚ùå Error de red: ' + err.message);
                    btn.disabled = false;
                    btn.innerHTML = originalText;
                })
                .generarContrato(cdr);
        }

        function actualizarContadoresContratos(contratos) {
            document.getElementById('totalContratos').textContent = contratos ? contratos.length : 0;
            // Otros contadores se actualizar√≠an si tuvi√©ramos estados distintos (Firmados, etc)
        }

        // Mostrar registros de inquilinos
        function mostrarRegistrosInquilinos(registros) {
            const lista = document.getElementById('listaInquilinos');

            if (!registros || registros.length === 0) {
                lista.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">üì≠</div>
                        <h3>No hay registros pendientes</h3>
                        <p>Los registros aparecer√°n aqu√≠ cuando los inquilinos completen sus formularios</p>
                    </div>
                `;
                return;
            }

            let html = '';
            registros.forEach(registro => {
                const estado = obtenerEstadoRegistro(registro.detalles);
                html += `
                    <div class="registro-card">
                        <div class="registro-header">
                            <h3>üìã ${registro.cdr}</h3>
                            <span class="badge badge-${estado.clase}">${estado.texto}</span>
                        </div>
                        <div class="registro-info">
                            <div class="info-row">
                                <span class="info-label">Nombre:</span>
                                <span class="info-value">
                                    ${registro.inquilino.nombre}
                                    <button class="btn-copy" onclick="copiarTexto('${registro.inquilino.nombre}', this)">
                                        üìã Copiar
                                    </button>
                                </span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Documento:</span>
                                <span class="info-value">
                                    ${registro.inquilino.documento}
                                    <button class="btn-copy" onclick="copiarTexto('${registro.inquilino.documento}', this)">
                                        üìã Copiar
                                    </button>
                                </span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Email:</span>
                                <span class="info-value">
                                    ${registro.inquilino.email}
                                    <button class="btn-copy" onclick="copiarTexto('${registro.inquilino.email}', this)">
                                        üìã Copiar
                                    </button>
                                </span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Celular:</span>
                                <span class="info-value">
                                    ${registro.inquilino.celular}
                                    <button class="btn-copy" onclick="copiarTexto('${registro.inquilino.celular}', this)">
                                        üìã Copiar
                                    </button>
                                </span>
                            </div>
                            ${registro.codeudores && registro.codeudores.length > 0 ? `
                            <div class="info-row">
                                <span class="info-label">Codeudores:</span>
                                <span class="info-value">${registro.codeudores.length}</span>
                            </div>
                            ` : ''}
                        </div>
                        <div class="registro-actions">
                            <button class="btn btn-primary" onclick="validarInquilino('${registro.cdr}')">
                                üîç Validar
                            </button>
                            <button class="btn btn-secondary" onclick="verDocumentosInquilino('${registro.cdr}')">
                                üìÅ Ver Documentos
                            </button>
                        </div>
                    </div>
                `;
            });

            lista.innerHTML = html;
        }

        // Mostrar registros de propietarios
        function mostrarRegistrosPropietarios(registros) {
            const lista = document.getElementById('listaPropietarios');

            if (!registros || registros.length === 0) {
                lista.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">üì≠</div>
                        <h3>No hay registros pendientes</h3>
                        <p>Los registros aparecer√°n aqu√≠ cuando los propietarios completen sus formularios</p>
                    </div>
                `;
                return;
            }

            let html = '';
            registros.forEach(registro => {
                const estado = obtenerEstadoRegistro(registro.detalles);
                html += `
                    <div class="registro-card">
                        <div class="registro-header">
                            <h3>üè† ${registro.cdr}</h3>
                            <span class="badge badge-${estado.clase}">${estado.texto}</span>
                        </div>
                        <div class="registro-info">
                            <div class="info-row">
                                <span class="info-label">Nombre:</span>
                                <span class="info-value">
                                    ${registro.propietario.nombre}
                                    <button class="btn-copy" onclick="copiarTexto('${registro.propietario.nombre}', this)">
                                        üìã Copiar
                                    </button>
                                </span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Documento:</span>
                                <span class="info-value">
                                    ${registro.propietario.documento}
                                    <button class="btn-copy" onclick="copiarTexto('${registro.propietario.documento}', this)">
                                        üìã Copiar
                                    </button>
                                </span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Email:</span>
                                <span class="info-value">
                                    ${registro.propietario.email}
                                    <button class="btn-copy" onclick="copiarTexto('${registro.propietario.email}', this)">
                                        üìã Copiar
                                    </button>
                                </span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Celular:</span>
                                <span class="info-value">
                                    ${registro.propietario.celular}
                                    <button class="btn-copy" onclick="copiarTexto('${registro.propietario.celular}', this)">
                                        üìã Copiar
                                    </button>
                                </span>
                            </div>
                        </div>
                        <div class="registro-actions">
                            <button class="btn btn-primary" onclick="validarPropietario('${registro.cdr}')">
                                üîç Validar
                            </button>
                            <button class="btn btn-secondary" onclick="verDocumentosPropietario('${registro.cdr}')">
                                üìÅ Ver Documentos
                            </button>
                        </div>
                    </div>
                `;
            });

            lista.innerHTML = html;
        }

        // Funci√≥n para copiar texto al portapapeles
        function copiarTexto(texto, btn) {
            navigator.clipboard.writeText(texto).then(function () {
                // Cambiar el bot√≥n temporalmente
                const textoOriginal = btn.innerHTML;
                btn.innerHTML = '‚úÖ Copiado';
                btn.classList.add('copied');

                setTimeout(() => {
                    btn.innerHTML = textoOriginal;
                    btn.classList.remove('copied');
                }, 2000);

                mostrarToast(`Copiado: ${texto}`, 'success');
            }).catch(function (err) {
                console.error('Error al copiar:', err);
                mostrarToast('Error al copiar', 'error');
            });
        }

        // Validar Inquilino
        function validarInquilino(cdr) {
            registroActual = cdr;
            tipoActual = 'inquilino';

            // Cargar documentos y mostrar modal
            google.script.run
                .withSuccessHandler(function (data) {
                    mostrarModalValidacion(cdr, 'inquilino', data.documentos);
                })
                .withFailureHandler(function (error) {
                    mostrarToast('Error al cargar documentos', 'error');
                })
                .obtenerDocumentosDelCDR(cdr);
        }

        // Validar Propietario
        function validarPropietario(cdr) {
            registroActual = cdr;
            tipoActual = 'propietario';

            // Cargar documentos y mostrar modal
            google.script.run
                .withSuccessHandler(function (data) {
                    mostrarModalValidacion(cdr, 'propietario', data.documentos);
                })
                .withFailureHandler(function (error) {
                    mostrarToast('Error al cargar documentos', 'error');
                })
                .obtenerDocumentosDelCDR(cdr);
        }

        // Mostrar Modal de Validaci√≥n
        function mostrarModalValidacion(cdr, tipo, documentos) {
            documentosData = documentos;

            // Actualizar t√≠tulo
            document.getElementById('modalTitle').textContent =
                `üìã Validaci√≥n de ${tipo === 'inquilino' ? 'Inquilino' : 'Propietario'} - ${cdr}`;

            // Mostrar informaci√≥n del registro
            mostrarInfoRegistro(cdr, tipo);

            // Mostrar lista de documentos
            mostrarListaDocumentos(documentos[tipo] || []);

            // Crear checklist seg√∫n tipo
            crearChecklist(tipo);

            // Mostrar modal
            document.getElementById('modalValidacion').classList.add('show');
        }

        // Mostrar informaci√≥n del registro
        function mostrarInfoRegistro(cdr, tipo) {
            // Aqu√≠ se cargar√≠an los datos espec√≠ficos del registro
            const infoHtml = `
                <div class="data-item">
                    <span class="data-label">CDR:</span>
                    <div class="data-value-group">
                        <span class="data-value">${cdr}</span>
                        <button class="btn-copy" onclick="copiarTexto('${cdr}', this)">üìã</button>
                    </div>
                </div>
                <div class="data-item">
                    <span class="data-label">Tipo:</span>
                    <div class="data-value-group">
                        <span class="data-value">${tipo.toUpperCase()}</span>
                    </div>
                </div>
                <div class="data-item">
                    <span class="data-label">Fecha Registro:</span>
                    <div class="data-value-group">
                        <span class="data-value">${new Date().toLocaleDateString()}</span>
                    </div>
                </div>
            `;

            document.getElementById('infoRegistro').innerHTML = infoHtml;
        }

        // Mostrar lista de documentos
        function mostrarListaDocumentos(documentos) {
            let html = '';

            documentos.forEach((doc, index) => {
                html += `
                    <div class="doc-item ${index === 0 ? 'active' : ''}" 
                         onclick="verPreview('${doc.url}', '${doc.tipo}', '${doc.nombre}', this)"
                         data-index="${index}">
                        <div>
                            <div>${obtenerIconoDocumento(doc.tipo)} ${doc.nombre}</div>
                            <div class="doc-type">${doc.tipo}</div>
                        </div>
                        <div class="doc-size">${formatearTama√±o(doc.tama√±o)}</div>
                    </div>
                `;
            });

            document.getElementById('listaDocumentos').innerHTML = html ||
                '<p style="text-align:center; color:#999;">No hay documentos</p>';

            // Cargar preview del primer documento si existe
            if (documentos.length > 0) {
                verPreview(documentos[0].url, documentos[0].tipo, documentos[0].nombre);
            }
        }

        // Ver preview del documento
        function verPreview(url, tipo, nombre, elemento) {
            documentoActual = { url, tipo, nombre };

            // Actualizar selecci√≥n activa
            if (elemento) {
                document.querySelectorAll('.doc-item').forEach(item => {
                    item.classList.remove('active');
                });
                elemento.classList.add('active');
            }

            // Actualizar t√≠tulo del preview
            document.getElementById('previewTitle').textContent = nombre;

            // Mostrar preview seg√∫n tipo
            const previewContent = document.getElementById('previewContent');

            if (tipo.includes('pdf')) {
                previewContent.innerHTML = `
                    <iframe src="${url}" class="preview-iframe"></iframe>
                `;
            } else if (tipo.includes('image')) {
                previewContent.innerHTML = `
                    <img src="${url}" class="preview-image" alt="${nombre}">
                `;
            } else {
                previewContent.innerHTML = `
                    <div class="preview-placeholder">
                        <p>‚ö†Ô∏è No se puede previsualizar este tipo de archivo</p>
                        <button class="btn btn-primary" onclick="abrirEnNuevaVentana()">
                            Abrir en nueva ventana
                        </button>
                    </div>
                `;
            }
        }

        // Crear checklist de validaci√≥n
        function crearChecklist(tipo) {
            let items = [];

            if (tipo === 'inquilino') {
                items = [
                    'Documento de identidad legible',
                    'Nombre coincide con documento',
                    'N√∫mero de documento correcto',
                    'Soporte de ingresos v√°lido',
                    'Comprobante de pago adjunto',
                    'Datos del codeudor completos (si aplica)'
                ];
            } else {
                items = [
                    'Documento de identidad legible',
                    'Certificado de tradici√≥n v√°lido',
                    'SARLAFT diligenciado',
                    'Certificaci√≥n bancaria actualizada',
                    'Servicios p√∫blicos al d√≠a',
                    'Datos bancarios correctos'
                ];
            }

            let html = '';
            items.forEach((item, index) => {
                html += `
                    <div class="checklist-item" id="check-${index}">
                        <input type="checkbox" class="checklist-checkbox" 
                               id="checkbox-${index}" 
                               onchange="toggleCheck(${index})">
                        <label class="checklist-label" for="checkbox-${index}">
                            ${item}
                        </label>
                    </div>
                `;
            });

            document.getElementById('checklistGrid').innerHTML = html;
        }

        // Toggle checklist item
        function toggleCheck(index) {
            const item = document.getElementById(`check-${index}`);
            const checkbox = document.getElementById(`checkbox-${index}`);

            if (checkbox.checked) {
                item.classList.add('checked');
            } else {
                item.classList.remove('checked');
            }

            verificarCompletitud();
        }

        // Verificar si todo est√° completo
        function verificarCompletitud() {
            const checkboxes = document.querySelectorAll('.checklist-checkbox');
            const todosChecked = Array.from(checkboxes).every(cb => cb.checked);

            // Habilitar/deshabilitar bot√≥n de aprobar
            const btnAprobar = document.querySelector('.btn-success');
            if (btnAprobar) {
                btnAprobar.disabled = !todosChecked;
                if (todosChecked) {
                    btnAprobar.textContent = '‚úÖ Aprobar Todo (Listo)';
                } else {
                    btnAprobar.textContent = '‚úÖ Aprobar Todo (Pendiente)';
                }
            }
        }

        // Actualizar tags de correcciones
        function actualizarTagsCorrecciones() {
            const select = document.getElementById('selectCorrecciones');
            const container = document.getElementById('correctionsList');
            const selected = Array.from(select.selectedOptions);

            let html = '';
            selected.forEach(option => {
                html += `
                    <span class="correction-tag">
                        ${option.text}
                        <button onclick="removerCorreccion('${option.value}')">√ó</button>
                    </span>
                `;
            });

            container.innerHTML = html;
        }

        // Remover correcci√≥n
        function removerCorreccion(valor) {
            const select = document.getElementById('selectCorrecciones');
            const option = select.querySelector(`option[value="${valor}"]`);
            if (option) {
                option.selected = false;
                actualizarTagsCorrecciones();
            }
        }

        // Aprobar documentos
        function aprobarDocumentos() {
            if (!confirm('¬øEst√° seguro de aprobar todos los documentos?')) return;

            const datos = {
                cdr: registroActual,
                tipo: tipoActual,
                estado: 'aprobado',
                observaciones: ''
            };

            google.script.run
                .withSuccessHandler(function (result) {
                    mostrarToast('‚úÖ Documentos aprobados exitosamente', 'success');
                    cerrarModal('modalValidacion');
                    cargarDatos(); // Recargar datos
                })
                .withFailureHandler(function (error) {
                    mostrarToast('Error al aprobar documentos', 'error');
                })
                .procesarValidacion(datos);
        }

        // Solicitar correcciones
        function solicitarCorrecciones() {
            const select = document.getElementById('selectCorrecciones');
            const observaciones = document.getElementById('observacionesCorrecciones').value;
            const selected = Array.from(select.selectedOptions);

            if (selected.length === 0 || !observaciones) {
                mostrarToast('Seleccione los documentos y agregue observaciones', 'warning');
                return;
            }

            if (!confirm('¬øEnviar solicitud de correcciones?')) return;

            const datos = {
                cdr: registroActual,
                tipo: tipoActual,
                estado: 'correccion',
                documentosCorregir: selected.map(opt => opt.value),
                observaciones: observaciones
            };

            google.script.run
                .withSuccessHandler(function (result) {
                    mostrarToast('üìù Correcciones solicitadas', 'warning');
                    cerrarModal('modalValidacion');
                    cargarDatos();
                })
                .withFailureHandler(function (error) {
                    mostrarToast('Error al solicitar correcciones', 'error');
                })
                .enviarCorrecciones(datos);
        }

        // Rechazar documentos
        function rechazarDocumentos() {
            const motivo = prompt('Ingrese el motivo del rechazo:');
            if (!motivo) return;

            if (!confirm('¬øEst√° seguro de rechazar estos documentos?')) return;

            const datos = {
                cdr: registroActual,
                tipo: tipoActual,
                estado: 'rechazado',
                observaciones: motivo
            };

            google.script.run
                .withSuccessHandler(function (result) {
                    mostrarToast('‚ùå Documentos rechazados', 'error');
                    cerrarModal('modalValidacion');
                    cargarDatos();
                })
                .withFailureHandler(function (error) {
                    mostrarToast('Error al rechazar documentos', 'error');
                })
                .procesarValidacion(datos);
        }

        // Funciones auxiliares
        function descargarDocumento() {
            if (documentoActual && documentoActual.url) {
                window.open(documentoActual.url, '_blank');
            }
        }

        function abrirEnNuevaVentana() {
            if (documentoActual && documentoActual.url) {
                window.open(documentoActual.url, '_blank');
            }
        }

        function obtenerIconoDocumento(tipo) {
            if (tipo.includes('pdf')) return 'üìÑ';
            if (tipo.includes('image')) return 'üñºÔ∏è';
            if (tipo.includes('doc')) return 'üìù';
            return 'üìé';
        }

        function formatearTama√±o(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];
        }

        function obtenerEstadoRegistro(detalles) {
            if (!detalles) return { texto: 'NUEVO', clase: 'warning' };

            if (detalles.includes('aprobado') || detalles.includes('Aprobado')) {
                return { texto: 'APROBADO', clase: 'success' };
            } else if (detalles.includes('correcci√≥n') || detalles.includes('Correcci√≥n')) {
                return { texto: 'EN CORRECCI√ìN', clase: 'warning' };
            } else if (detalles.includes('diligenciado') || detalles.includes('Pendiente validaci√≥n')) {
                return { texto: 'PENDIENTE', clase: 'info' };
            } else {
                return { texto: 'NUEVO', clase: 'warning' };
            }
        }

        function actualizarEstadisticas(tipo, registros) {
            if (!registros) return;

            const total = registros.length;
            let aprobados = 0;
            let correcciones = 0;

            registros.forEach(registro => {
                const estado = obtenerEstadoRegistro(registro.detalles);
                if (estado.texto === 'APROBADO') aprobados++;
                if (estado.texto === 'EN CORRECCI√ìN') correcciones++;
            });

            if (tipo === 'inquilinos') {
                document.getElementById('totalInquilinos').textContent = total;
                document.getElementById('aprobadosInquilinos').textContent = aprobados;
                document.getElementById('correccionesInquilinos').textContent = correcciones;
            } else {
                document.getElementById('totalPropietarios').textContent = total;
                document.getElementById('aprobadosPropietarios').textContent = aprobados;
                document.getElementById('correccionesPropietarios').textContent = correcciones;
            }
        }

        function cerrarModal(modalId) {
            document.getElementById(modalId).classList.remove('show');
            // Limpiar formularios
            document.getElementById('selectCorrecciones').selectedIndex = -1;
            document.getElementById('observacionesCorrecciones').value = '';
            document.getElementById('correctionsList').innerHTML = '';
        }

        function mostrarToast(mensaje, tipo = 'info') {
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toastMessage');

            toastMessage.textContent = mensaje;
            toast.className = `toast show ${tipo}`;

            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        function actualizarTodo() {
            mostrarToast('Actualizando datos...', 'info');
            cargarDatos();
        }

        function limpiarCache() {
            if (confirm('¬øLimpiar cach√© del sistema?')) {
                localStorage.clear();
                sessionStorage.clear();
                mostrarToast('Cach√© limpiado exitosamente', 'success');
                location.reload();
            }
        }

        // Ver documentos sin validaci√≥n
        function verDocumentosInquilino(cdr) {
            validarInquilino(cdr);
        }

        function verDocumentosPropietario(cdr) {
            validarPropietario(cdr);
        }
    </script>
</body>

</html>